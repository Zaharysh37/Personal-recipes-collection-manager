# Диаграмма вариантов использования

![Диаграмма вариантов использования](images/diagram_use_case.png) 
  

# Глоссарий

| Термин | Определение |
|:--|:--|
| Пользователь | Человек, использующий приложение |
| Зарегистрированный пользователь | Пользователь, ранее зарегистрировавшийся в приложении |
| Посетитель | Пользователь, использующий приложение без авторизации |  
| Коллекция рецептов | Список рецептов, находящихся в личной коллекции зарегистрированного пользователя |

# Поток событий 

# Содержание
1 [Актёры](#actors)  
2 [Варианты использования](#use_case)  
2.1 [Войти в свою учётную запись](#sign_in_to_your_account)  
2.2 [Зарегистрироваться](#sign_up)    
2.3 [Войти как посетитель](#sign_in_as_visitor)  
2.4 [Просмотреть список рецептов](#view_recipe_list)  
2.5 [Найти рецепт по названию](#find_recipe_in_list)  
2.6 [Создать новый рецепт](#create_recipe)  
2.7 [Редактировать рецепт](#edit_recipe)     
2.8 [Удалить рецепт](#remove_recipe)  
2.9 [Выйти из учетной записи](#sign_out_of_your_account)  

<a name="actors"/>

# 1 Актёры

| Актёр | Описание |
|:--|:--|
| Пользователь | Человек, использующий приложение |
| Посетитель | Пользователь, который использует приложение без регистрации в нём |
| Зарегистрированный пользователь | Пользователь, который зарегистрировался в приложении |

<a name="use_case"/>

# 2 Варианты использования

<a name="sign_in_to_your_account"/>

## 2.1 Войти в свою учётную запись

**Описание.** Вариант использования "Войти в свою учётную запись" позволяет пользователю войти в учётную запись.  
**Предусловия.** Пользователь выбрал способ "Войти" для входа в приложение.  
**Основной поток.**
1. Приложение отображает окно входа в учётную запись;
2. Пользователь вводит свои учетные данные;
3. Пользователь подтверждает ввод;
4. Приложение проверяет учетные данные. Если данные неверны, выполняется альтернативный поток А1;
5. Приложение запоминает ID пользователя в базе данных;
6. Приложение присваивает пользователю статус "зарегистрирован";
7. Приложение скрывает окно входа в учётную запись;
8. Вариант использования завершается.

**Альтернативный поток А1.**
1. Приложение сообщает пользователю о неверных учетных данных;
2. Приложение запрашивает повторный ввод данных;
3. Возврат к п.2 основного потока.

**Постусловия.** Выполняется вариант использования "Просмотреть список рецептов".

<a name="sign_up"/>

## 2.2 Зарегистрироваться

**Описание.** Вариант использования "Зарегистрироваться" позволяет пользователю создать свою учётную запись в приложении.  
**Предусловия.** Пользователь выбрал способ "Зарегистрироваться" для входа в приложение.  
**Основной поток.**
1. Приложение отображает окно регистрации, в котором запрашивает у пользователя ввод данных;
2. Пользователь вводит логин и пароль;
3. Пользователь подтверждает ввод;
4. Приложение проверяет введённый логин на совпадение с логинами уже зарегистрированных пользователей. Если совпадение выявлено, выполняется альтернативный поток А2;
5. Приложение создает аккаунт пользователя в базе данных;
6. Приложение присваивает пользователю статус "зарегистрирован";
7. Приложение скрывает окно регистрации;
8. Вариант использования завершается.

**Альтернативный поток А2.**
1. Приложение сообщает пользователю, что пользователь с таким логином уже существует;
2. Приложение запрашивает у пользователя ввод другого логина;
3. Возврат к п.2 основного потока.

<a name="sign_in_as_visitor"/>

## 2.3 Войти как посетитель

**Описание.** Вариант использования "Войти как посетитель" позволяет пользователю войти в приложение без регистрации.  
**Предусловия.** Пользователь выбрал способ "Войти как посетитель" для входа в приложение.  
**Основной поток.**
1. Приложение присваивает пользователю статус "посетитель";
2. Вариант использования завершается.

**Постусловия.** Выполняется вариант использования "Просмотреть список рецептов".

<a name="view_recipe_list"/>

## 2.4 Просмотреть список рецептов

**Описание.** Вариант использования "Просмотреть список рецептов" загружает информацию из профиля пользователя.  
**Предусловия.** Пользователь вошёл в приложение или зарегистрированный пользователь изменил список рецептов.  
**Основной поток.**
1. Приложение получает список рецептов из профиля пользователя;
2. Приложение отображает рецепты из списка в главном окне приложения. Если список пуст, выполняется альтернативный поток А3; 
3. Вариант использования завершается.

**Альтернативный поток А3.**
1. Приложение отображает сообщение пользователю об отсутствии рецептов в его коллекции; 
2. Вариант использования завершается.

<a name="find_recipe_in_list"/>

## 2.5 Найти рецепт по названию

**Описание.** Вариант использования "Найти рецепт по названию" позволяет найти рецепты в коллекции пользователя.  
**Предусловия.** Пользователь ввёл в строку поиска название рецепта в окне отображения списка рецептов.  
**Основной поток.**
1. Приложение получает название рецепта;
2. Приложение выполняет запрос к базе данных на поиск рецептов с похожим названием;
3. Приложение отображает все найденные рецепты из списка. Если совпадений не найдено, выполняется альтернативный поток А4; 
4. Вариант использования завершается.

**Альтернативный поток А4.**
1. Приложение отображает сообщение пользователю об отсутствии рецептов с введённым названием; 
2. Вариант использования завершается.

<a name="create_recipe"/>

## 2.6 Создать новый рецепт

**Описание.** Вариант использования "Создать новый рецепт" позволяет зарегистрированному пользователю добавить новый рецепт в его коллекцию.  
**Предусловия.** Зарегистрированный пользователь нажал на кнопку "Создать рецепт".  
**Основной поток.**
1. Приложение отображает окно создания рецепта;
2. Пользователь вводит необходимые данные рецепта;
3. Пользователь нажимает кнопку "Сохранить рецепт";
4. Приложение сохраняет рецепт в базе данных;
5. Приложение скрывает окно создания рецепта;
6. Вариант использования завершается.

**Постусловия.** Выполняется вариант использования "Просмотреть список рецептов".

<a name="edit_recipe"/>

## 2.7 Редактировать рецепт

**Описание.** Вариант использования "Редактировать рецепт" позволяет зарегистрированному пользователю редактировать рецепт в его коллекции.  
**Предусловия.** Зарегистрированный пользователь нажал кнопку "Редактировать" для своего рецепта.  
**Основной поток.**
1. Приложение отображает окно редактирования рецепта с текущими данными;
2. Пользователь изменяет необходимые данные;
3. Пользователь нажимает кнопку "Сохранить рецепт";
4. Приложение обновляет данные о рецепте в базе данных;
5. Приложение скрывает окно редактирования рецепта;
6. Вариант использования завершается.

**Постусловия.** Выполняется вариант использования "Просмотреть список рецептов".

<a name="remove_recipe"/>

## 2.8 Удалить рецепт

**Описание.** Вариант использования "Удалить рецепт" позволяет зарегистрированному пользователю удалить рецепт из его коллекции.  
**Предусловия.** Зарегистрированный пользователь нажал кнопку "Удалить" для своего рецепта.  
**Основной поток.**
1. Приложение запрашивает подтверждение удаления;
2. Пользователь подтверждает удаление;
3. Приложение удаляет рецепт из базы данных;
4. Вариант использования завершается.

**Постусловия.** Выполняется вариант использования "Просмотреть список рецептов".

<a name="sign_out_of_your_account"/>

## 2.9 Выйти из учетной записи

**Описание.** Вариант использования "Выйти из учётной записи" позволяет зарегистрированному пользователю выйти из учётной записи.  
**Предусловия.** Зарегистрированный пользователь нажал на кнопку "Выйти".  
**Основной поток.**
1. Приложение скрывает главное окно приложения;
2. Приложение отображает окно входа в приложение;
3. Вариант использования завершается.
